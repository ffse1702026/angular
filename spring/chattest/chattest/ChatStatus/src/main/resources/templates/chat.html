<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
   <head>
      <title>Spring Boot WebSocket</title>
       <style>
     li.right{
      	margin-left:200px;
      }
     </style>
      <link rel="stylesheet" th:href="@{/css/main.css}" />
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
       
      <!-- https://cdnjs.com/libraries/sockjs-client -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
      <!-- https://cdnjs.com/libraries/stomp.js/ -->
      <script  src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
      
       
   </head>
  
   <body>
      <div id="chat-container">
      <input type="hidden" th:value="${room_id}" id="roomchat">
         <div class="chat-header">
            <div class="user-container">
               <span id="username" th:utext="${username}"></span>
               <a th:href="@{/logout}">Logout</a>
            </div>
            <h3>Spring WebSocket Chat Demo</h3>
         </div>
          
         <hr/>
          
         <div id="connecting">Connecting...</div>
         <ul id="messageArea">
         	<th:block th:each="message :${messageHistory}">
         		<li th:style="${username == message.username} ?'margin-left:0px':'margin-left:200px'"><p><strong  class="nickname" th:text="${message.username}"></strong>
         			<span th:text="${message.content}"></span></p>
         		</li>
         	</th:block>
         </ul>
         <form id="messageForm" name="messageForm">
            <div class="input-message">
            	<input type="hidden" autocomplete="off"
                  placeholder="Type a message..." th:value="${userId}" id="userid" />
               <input type="text" id="message" autocomplete="off"
                  placeholder="Type a message..."/>
               <button type="submit">Send</button>
            </div>
         </form>
      </div>
           <p>Select an image and hit send:</p>
        <input type="file" id="file" />

        <button id="sendImage">Send Image</button>
        <input type="hidden" id="file_name">
      <script th:src="@{/js/main.js}"></script>
       
   </body>
</html>